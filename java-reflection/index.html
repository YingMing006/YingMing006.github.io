<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="NZyNYgg0OZlLutc4Uc4x8bhzcMc0CPLY1GAcjRfqHoA"><meta name="baidu-site-verification" content="N4cDkjIYCT"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script class="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"yingming006.cn",root:"/",scheme:"Gemini",version:"8.0.0",exturl:!0,sidebar:{position:"left",display:"post",padding:18,offset:12},copycode:!0,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!0,nav:{valine:{text:"Valine",order:-2},gitalk:{text:"Gitalk",order:-1}},activeClass:"valine"},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"fadeInDown",post_body:"fadeInDown",coll_header:"fadeInLeft",sidebar:"fadeInUp"}},prism:!1,i18n:{placeholder:"搜索...",empty:"没有找到任何搜索结果：${query}",hits_time:"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）",hits:"找到 ${hits} 个搜索结果"},path:"search.xml",localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1}}</script><meta name="description" content="官方定义：  Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their und"><meta property="og:type" content="article"><meta property="og:title" content="【Java 基础】反射"><meta property="og:url" content="https://yingming006.cn/java-reflection/index.html"><meta property="og:site_name" content="Yingming&#39;s Blog"><meta property="og:description" content="官方定义：  Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their und"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2019-04-23T09:22:41.000Z"><meta property="article:modified_time" content="2021-03-15T05:08:30.000Z"><meta property="article:author" content="Yingming"><meta property="article:tag" content="java"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://yingming006.cn/java-reflection/"><script class="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>【Java 基础】反射 | Yingming's Blog</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-165634759-1"></script><script>function gtag(){dataLayer.push(arguments)}CONFIG.hostname===location.hostname&&(window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-165634759-1"))</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?54a65ae5a63d93b2ac4dfd138179feec";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>body{margin-top:2rem}.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .sidebar{visibility:visible}.use-motion .footer,.use-motion .header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript><link rel="alternate" href="/atom.xml" title="Yingming's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">Yingming's Blog</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">积跬步，至千里</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section">首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section">分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section">标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section">归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger">搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><section class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Java%E5%8F%8D%E5%B0%84%E4%B8%AD%E7%9A%84%E4%B8%BB%E8%A6%81%E7%B1%BB"><span class="nav-number">1.</span> <span class="nav-text">Java反射中的主要类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class-%E7%B1%BB"><span class="nav-number">2.</span> <span class="nav-text">Class 类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96Class%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">2.1.</span> <span class="nav-text">获取Class的三种方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E8%8E%B7%E5%8F%96%E7%9A%84-Class-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B"><span class="nav-number">2.2.</span> <span class="nav-text">通过获取的 Class 创建对象实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E5%8A%A0%E8%BD%BD%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E7%B1%BB"><span class="nav-number">2.3.</span> <span class="nav-text">静态加载类和动态加载类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Method-%E7%B1%BB"><span class="nav-number">3.</span> <span class="nav-text">Method 类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Field%E7%B1%BB"><span class="nav-number">4.</span> <span class="nav-text">Field类</span></a></li></ol></div></section><section class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yingming" src="/images/kid.webp"><p class="site-author-name" itemprop="name">Yingming</p><div class="site-description" itemprop="description">You will never know unless you try.</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">39</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">1</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">14</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01TaG93MDA2" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;MShow006"><i class="fa fa-fire fa-fw"></i>CSDN</span> </span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lpbmdtaW5nMDA2" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yingming006"><i class="fab fa-github fa-fw"></i>GitHub</span> </span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOnlpbmdtaW5nMDA2QGZveG1haWwuY29t" title="E-Mail → mailto:yingming006@foxmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i>RSS</a></span></div><div class="cc-license animated" itemprop="license"><span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span></div></section></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://yingming006.cn/java-reflection/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/kid.webp"><meta itemprop="name" content="Yingming"><meta itemprop="description" content="You will never know unless you try."></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Yingming's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">【Java 基础】反射<span class="exturl post-edit-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lpbmdtaW5nMDA2L2hleG8tYmxvZy9lZGl0L21hc3Rlci9zb3VyY2UvX3Bvc3RzL2phdmEtcmVmbGVjdGlvbi5tZA==" title="编辑"><i class="fa fa-pen-nib"></i></span></h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-04-23 17:22:41" itemprop="dateCreated datePublished" datetime="2019-04-23T17:22:41+08:00">2019-04-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-03-15 13:08:30" itemprop="dateModified" datetime="2021-03-15T13:08:30+08:00">2021-03-15</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tech/" itemprop="url" rel="index"><span itemprop="name">tech</span></a> </span></span><span id="/java-reflection/" class="post-meta-item leancloud_visitors" data-flag-title="【Java 基础】反射" title="阅读次数"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/java-reflection/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/java-reflection/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>官方定义：</p><blockquote><p>Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.</p></blockquote><p>大意是：</p><blockquote><p>反射使Java代码能够获取在运行时加载类的字段、方法和构造函数的信息，并使用反射字段、方法和构造函数在安全限制内对其基础对应项进行操作。</p></blockquote><a id="more"></a><h2 id="Java反射中的主要类"><a href="#Java反射中的主要类" class="headerlink" title="Java反射中的主要类"></a>Java反射中的主要类</h2><ul><li>类： <code>java.lang.Class</code></li><li>方法：<code>java.lang.reflect.Method</code></li><li>字段：<code>java.lang.reflect.Field</code></li><li>修饰符：<code>java.lang.reflect.Modifier</code></li></ul><p>测试类：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectionDemo1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ReflectionDemo1</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ReflectionDemo1&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Class-类"><a href="#Class-类" class="headerlink" title="Class 类"></a>Class 类</h2><p>部分源码如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Class</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">GenericDeclaration</span>, <span class="title">Type</span>, <span class="title">AnnotatedElement</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Class</span><span class="params">(ClassLoader loader)</span> </span>&#123;</span><br><span class="line">		...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到 Class类 的构造器是私有的，也就是说 Class 类的实例对象只能由 Java 虚拟机创建，而不能在代码中显式的创建一个 Class 对象。</p><h3 id="获取Class的三种方式"><a href="#获取Class的三种方式" class="headerlink" title="获取Class的三种方式"></a>获取Class的三种方式</h3><ul><li>通过类名：<code>ClassName.class</code>;</li><li>通过类的对象：<code>ObjectName.getClass()</code>;</li><li>通过<code>Class.forName()</code></li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 通过类名获取Class</span></span><br><span class="line">    Class clazz1 = ReflectionDemo1.class;</span><br><span class="line">    <span class="comment">// 通过实例对象获取Class</span></span><br><span class="line">    ReflectionDemo1 demo1 = <span class="keyword">new</span> ReflectionDemo1(<span class="string">&quot;demo1&quot;</span>);</span><br><span class="line">    Class clazz2 = demo1.getClass();</span><br><span class="line">    <span class="comment">// 通过Class.forName()</span></span><br><span class="line">    Class clazz3 = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">	    clazz3 = Class.forName(<span class="string">&quot;reflection.ReflectionDemo1&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">	    e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;clazz1 == clazz2 : &quot;</span> + (clazz1 == clazz2));</span><br><span class="line">    System.out.println(<span class="string">&quot;clazz1 == clazz3 : &quot;</span> + (clazz1 == clazz3));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">clazz1 &#x3D;&#x3D; clazz2 : true</span><br><span class="line">clazz1 &#x3D;&#x3D; clazz3 : true</span><br></pre></td></tr></table></figure><h3 id="通过获取的-Class-创建对象实例"><a href="#通过获取的-Class-创建对象实例" class="headerlink" title="通过获取的 Class 创建对象实例"></a>通过获取的 Class 创建对象实例</h3><ul><li>必须有无参构造器</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ReflectionDemo1 demo2 = (ReflectionDemo1) clazz1.newInstance();</span><br></pre></td></tr></table></figure><h3 id="静态加载类和动态加载类"><a href="#静态加载类和动态加载类" class="headerlink" title="静态加载类和动态加载类"></a>静态加载类和动态加载类</h3><ul><li>静态加载：通过<code>new</code>创建的对象的方式</li><li>动态加载：通过<code>Class.forName()</code>创建对象的方式</li></ul><p>二者的区别在于静态加载在编译时就需要加载类的信息（类必须存在），而动态加载在编译时不必知道类的信息。</p><p>例子：<br>假设现在有一个程序入口如下：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticAndDynamicClassTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;Read&quot;</span>.equals(args[<span class="number">0</span>]))&#123;</span><br><span class="line">            Read r = <span class="keyword">new</span> Read();</span><br><span class="line">            r.start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;Write&quot;</span>.equals(args[<span class="number">0</span>]))&#123;</span><br><span class="line">            Write w = <span class="keyword">new</span> Write();</span><br><span class="line">            w.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是并没有声明”A”和”B”的类，此时编译就会报错<br>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-dJEewpCq-1615784895896)(<span class="exturl" data-url="aHR0cHM6Ly9pLmxvbGkubmV0LzIwMTkvMDQvMjMvNWNiZWM3MWI4ZTc4Ni5wbmcpXQ==">https://i.loli.net/2019/04/23/5cbec71b8e786.png)]<i class="fa fa-external-link-alt"></i></span></p><p>这里就会想，我们并不一定会用到该程序的所有方法，但是在编译时，要求加载所有用到的类。这就是静态加载导致的问题。</p><p>而我们想要是我们需要那个功能就加载那个类，不用的类不需要加载。这就是动态加载。</p><p>使用动态加载时，我们需要实现一个公共的接口，来避免强制类型转换过程中出现问题。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticAndDynamicClassTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class clazz = Class.forName(args[<span class="number">0</span>]);</span><br><span class="line">            Operation operation = (Operation) clazz.newInstance();</span><br><span class="line">            operation.start();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Read</span> <span class="keyword">implements</span> <span class="title">Operation</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Read...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Write</span> <span class="keyword">implements</span> <span class="title">Operation</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Write...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Operation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>功能型的类尽量使用动态加载。</li></ul><h2 id="Method-类"><a href="#Method-类" class="headerlink" title="Method 类"></a>Method 类</h2><p>通过 Method 的方法，可以获取类的成员方法。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getClassMethodInfo</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        Class clazz = obj.getClass();</span><br><span class="line">        System.out.println(<span class="string">&quot;类的名称：&quot;</span> + clazz.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 在类中，一个成员方法就是一个Method对象</span></span><br><span class="line">        <span class="comment">// getMethods() 获取所有的 public 函数，包括父类继承来的</span></span><br><span class="line">        <span class="comment">// getDeclareMethods() 获取该类自己的所有函数，不限访问权限</span></span><br><span class="line">        <span class="comment">// getReturnType() 获取方法的返回类型</span></span><br><span class="line">        System.out.println(<span class="string">&quot;类的成员方法：&quot;</span>);</span><br><span class="line">        Method[] methods = clazz.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">            System.out.print(method.getReturnType().getName() + <span class="string">&quot; &quot;</span> + method.getName() + <span class="string">&quot; (&quot;</span>);</span><br><span class="line">            Class[] paramTypes = method.getParameterTypes();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; paramTypes.length; i++) &#123;</span><br><span class="line">                System.out.print(paramTypes[i].getName());</span><br><span class="line">                <span class="keyword">if</span> (i &lt; paramTypes.length - <span class="number">1</span>) &#123;</span><br><span class="line">                    System.out.print(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>测试：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class clazz4 = Class.forName(<span class="string">&quot;reflection.ReflectionDemo1&quot;</span>);</span><br><span class="line">ReflectionDemo1 demo3 = (ReflectionDemo1) clazz4.newInstance();</span><br><span class="line">ClassMethodDemo.getClassMethodInfo(demo3);</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">类的名称：reflection.ReflectionDemo1</span><br><span class="line">类的成员方法：</span><br><span class="line">java.lang.String toString ()</span><br><span class="line">java.lang.String getName ()</span><br><span class="line">void setName (java.lang.String)</span><br><span class="line">void wait ()</span><br><span class="line">void wait (long, int)</span><br><span class="line">void wait (long)</span><br><span class="line">boolean equals (java.lang.Object)</span><br><span class="line">int hashCode ()</span><br><span class="line">java.lang.Class getClass ()</span><br><span class="line">void notify ()</span><br><span class="line">void notifyAll ()</span><br></pre></td></tr></table></figure><p>更多方法：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">method.getModifiers(); <span class="comment">// 获取方法修饰符的int值</span></span><br><span class="line">method.isBridge(); <span class="comment">// 判断是否是桥方法</span></span><br><span class="line">method.isVarArgs(); <span class="comment">// 判断是否使用了可变参数</span></span><br><span class="line">method.getParameterCount(); <span class="comment">// 获取参数个数</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>通过 Method 调用方法：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">method.invoke(Object obj, Object... args);</span><br></pre></td></tr></table></figure><h2 id="Field类"><a href="#Field类" class="headerlink" title="Field类"></a>Field类</h2><p>通过 Field 的方法，可以获取类的成员变量的操作。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getClassFieldInfo</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        Class clazz = obj.getClass();</span><br><span class="line">        System.out.println(<span class="string">&quot;类的名称：&quot;</span> + clazz.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// getFields() 获取所有的 public 成员变量</span></span><br><span class="line">        <span class="comment">// getDeclareFields() 获取该类自己的所有成员变量</span></span><br><span class="line">        System.out.println(<span class="string">&quot;类的成员变量：&quot;</span>);</span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            Class fieldType = field.getType();</span><br><span class="line">            String typeName = fieldType.getTypeName();</span><br><span class="line">            String fieldName = fieldType.getName();</span><br><span class="line">            System.out.println(typeName + <span class="string">&quot; &quot;</span> + fieldName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>测试：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class clazz5 = Class.forName(<span class="string">&quot;reflection.ReflectionDemo1&quot;</span>);</span><br><span class="line">ReflectionDemo1 demo4 = (ReflectionDemo1) clazz5.newInstance();</span><br><span class="line">ClassMethodDemo.getClassMethodInfo(demo4);</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">类的名称：reflection.ReflectionDemo1</span><br><span class="line">类的成员变量：</span><br><span class="line">java.lang.String java.lang.String</span><br></pre></td></tr></table></figure></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/java-arrays/" rel="bookmark">【Java 基础】 Arrays 类常用方法</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/java-collections-list/" rel="bookmark">【Java基础】Java集合框架（二）List常用实现类</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/java-collections-map/" rel="bookmark">【Java基础】Java集合框架（三）Map常用实现类</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/java-collections-overview/" rel="bookmark">【Java基础】Java集合框架（一）概览</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/java-exception/" rel="bookmark">【Java基础】Java异常</a></div></li></ul><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>Yingming</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://yingming006.cn/java-reflection/" title="【Java 基础】反射">https://yingming006.cn/java-reflection/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class="post-tags"><a href="/tags/java/" rel="tag"><i class="fa fa-tag"></i> java</a></div><div class="post-nav"><div class="post-nav-item"><a href="/java-generics/" rel="prev" title="【Java基础】泛型"><i class="fa fa-chevron-left"></i> 【Java基础】泛型</a></div><div class="post-nav-item"><a href="/jvm-note-1/" rel="next" title="【JVM 笔记】JVM 内存结构">【JVM 笔记】JVM 内存结构 <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="tabs tabs-comment"><ul class="nav-tabs"><li class="tab"><a href="#comment-valine">Valine</a></li><li class="tab"><a href="#comment-gitalk">Gitalk</a></li></ul><div class="tab-content"><div class="tab-pane valine" id="comment-valine"><div class="comments" id="valine-comments"></div></div><div class="tab-pane gitalk" id="comment-gitalk"><div class="comments" id="gitalk-container"></div></div></div></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><span class="exturl" data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">鲁ICP备18024573号</span></div><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yingming</span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZw==">NexT.Gemini</span> 强力驱动</div></div></footer><script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1.15.0/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)}()</script><script src="/js/local-search.js"></script><script>document.querySelectorAll('.pdfobject-container').forEach(element => {
  const url = element.dataset.target;
  const pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  const pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  const fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});</script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div style="display:none"><script src="//s95.cnzz.com/z_stat.php?id=1279568860&web_id=1279568860"></script></div><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script>NexT.utils.loadComments("#gitalk-container",()=>{NexT.utils.getScript("//cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js",()=>{new Gitalk({clientID:"53230e90ef84fc880a89",clientSecret:"f7b47370d91a7d7cb372deaa129fd58c34d9b397",repo:"gitalk-hexo-blog",owner:"yingming006",admin:["yingming006"],id:"314abf5f24060e2330b7c025ddbcbe6c",language:"zh-CN",distractionFreeMode:!0}).render("gitalk-container")},window.Gitalk)})</script><script>NexT.utils.loadComments("#valine-comments",()=>{NexT.utils.getScript("//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js",()=>{new Valine(Object.assign({el:"#valine-comments",path:"/java-reflection/"},{enable:!0,appId:"0w9WHb45Sbm8ELs90WgsaQnJ-gzGzoHsz",appKey:"FnbaTROPb3OWVu3I2K9P3wF9",placeholder:"",avatar:"mm",meta:["nick","mail","link"],pageSize:10,lang:"zh-cn",visitor:!0,comment_count:!1,recordIP:!0,serverURLs:null,enableQQ:!0,requiredFields:[]}))},window.Valine)})</script></body></html>